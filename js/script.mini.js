const feedbackLink=document.querySelector(".feedback-button"),mapLink=document.querySelector(".map-link"),buyLink=document.querySelectorAll(".buy-button"),feedbackModal=document.querySelector(".feedback-modal"),mapModal=document.querySelector(".map-modal"),cartModal=document.querySelector(".cart-modal"),feedbackForm=document.querySelector(".feedback-form"),modalBg=document.querySelector(".modal-bg"),pageBody=document.querySelector(".page-body"),modal=document.querySelectorAll(".modal"),modalInput=document.querySelectorAll(".modal-field"),inputEmail=document.querySelector("[name=email]");function validateEmail(e){return/.+@.+\..+/i.test(String(e).toLowerCase())}function closeModal(){modal.forEach(e=>{if(e.classList.contains("modal-show")){e.querySelector(".modal-close").addEventListener("click",function(e){e.preventDefault(),afterClose()})}})}function closeEsc(){window.addEventListener("keydown",function(e){"Escape"===e.key&&(e.preventDefault(),afterClose())})}function outClickClose(){modalBg.addEventListener("click",function(e){e.preventDefault(),afterClose()})}function afterShow(){modalBg.classList.add("modal-bg-show"),pageBody.classList.add("scroll-block")}function afterClose(){modal.forEach(e=>{if(e.classList.contains("modal-show")){const s=e;s.classList.add("modal-closing"),s.addEventListener("animationend",function(){s.classList.remove("modal-closing","modal-show")},{once:!0})}}),modalBg.classList.remove("modal-bg-show"),pageBody.classList.remove("scroll-block"),modalInput.forEach(e=>e.classList.remove("input-error"))}buyLink.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),cartModal.classList.add("modal-show"),afterShow(),closeModal(),closeEsc(),outClickClose()})}),feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackModal.classList.add("modal-show"),feedbackModal.classList.remove("feedback-error"),afterShow(),modalInput[0].focus(),closeModal(),closeEsc(),outClickClose(),modalInput.forEach(e=>e.classList.remove("input-error"))}),mapLink.addEventListener("click",function(e){e.preventDefault(),mapModal.classList.add("modal-show"),afterShow(),closeModal(),closeEsc(),outClickClose()}),feedbackForm.addEventListener("submit",function(e){modalInput.forEach(e=>e.classList.remove("input-error"));let s=0,l=validateEmail(inputEmail.value);modalInput.forEach(e=>{e.value||(e.classList.add("input-error"),s+=1)}),l||(inputEmail.classList.add("input-error"),s+=1),s>0?(e.preventDefault(),feedbackModal.classList.remove("feedback-error"),feedbackModal.offsetWidth=feedbackModal.offsetWidth,feedbackModal.classList.add("feedback-error")):modalInput.forEach(e=>e.value="")});const allSlides=document.querySelectorAll(".slide"),arrowPrev=document.querySelector(".slide-arrow-previous"),arrowNext=document.querySelector(".slide-arrow-next"),toggles=document.querySelectorAll(".slide-toggle");function toggleDisable(){allSlides.forEach((e,s)=>{e.classList.contains("slide-shown")&&(toggles.forEach(e=>e.removeAttribute("disabled")),toggles[s].setAttribute("disabled","disabled"))})}function nextSlide(){for(i=0;i<allSlides.length;i++)if(allSlides[i].classList.contains("slide-shown")){allSlides[i].classList.remove("slide-shown"),allSlides[i+1]?allSlides[i+1].classList.add("slide-shown"):allSlides[0].classList.add("slide-shown");break}}function prevSlide(){for(i=allSlides.length-1;i>=0;i--)if(allSlides[i].classList.contains("slide-shown")){allSlides[i].classList.remove("slide-shown"),allSlides[i-1]?allSlides[i-1].classList.add("slide-shown"):allSlides[allSlides.length-1].classList.add("slide-shown");break}}toggleDisable(),arrowNext.addEventListener("click",function(e){e.preventDefault(),nextSlide(),toggleDisable()}),arrowPrev.addEventListener("click",function(e){e.preventDefault(),prevSlide(),toggleDisable()}),toggles.forEach((e,s)=>{e.addEventListener("click",function(l){l.preventDefault(),toggles.forEach(e=>e.removeAttribute("disabled")),e.setAttribute("disabled","disabled"),allSlides.forEach(e=>e.classList.remove("slide-shown")),allSlides[s].classList.add("slide-shown")})});const services=document.querySelectorAll(".service-name"),descriptions=document.querySelectorAll(".service-desc"),servicesNames=document.querySelector(".services-names"),servicesDescs=document.querySelector(".services-descs");function serviceToggle(){services.forEach(e=>{e.classList.remove("service-name-active"),this.elem||(e.removeAttribute("aria-pressed"),e.setAttribute("aria-pressed","false"),e.removeAttribute("tabindex")),this.classList.add("service-name-active"),this.setAttribute("aria-pressed","true"),this.setAttribute("tabindex","-1")}),services.forEach((e,s)=>{e.classList.contains("service-name-active")&&(descriptions.forEach(e=>e.classList.remove("service-desc-show")),descriptions[s].classList.add("service-desc-show"))})}servicesNames.classList.remove("services-names-hide"),servicesDescs.classList.remove("services-descs-wide"),descriptions.forEach(e=>{e!=descriptions[0]&&e.classList.remove("service-desc-show")}),services.forEach(e=>e.addEventListener("click",serviceToggle));
